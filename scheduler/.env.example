# =============================================================================
# Kålgårdens Schemaläggningssystem - Environment Variables
# =============================================================================
#
# Copy this file to .env and fill in the values
# NEVER commit .env to git - it contains secrets!

# =============================================================================
# DATABASE
# =============================================================================

# PostgreSQL connection string
# Development: Use local PostgreSQL
# Production: Auto-configured by Scalingo addon
DATABASE_URL=postgresql://scheduler:scheduler_dev_password@localhost:5432/scheduler_dev

# =============================================================================
# AI SERVICE (CLAUDE VIA AZURE OPENAI)
# =============================================================================

# Azure OpenAI endpoint for Claude model
# Get from Azure AI Studio: https://ai.azure.com
AZURE_AI_ENDPOINT=https://tankomchattbot.services.ai.azure.com/anthropic/v1/messages

# Azure API key (x-api-key header)
# REQUIRED in production!
# Get from Azure AI Studio deployment page
AZURE_API_KEY=your-azure-api-key-here

# Claude model deployment name
# Should match your Azure deployment (default: claude-sonnet-4-5-20250929)
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# Legacy (not used when using Azure)
ANTHROPIC_API_KEY=

# =============================================================================
# SCHEDULER CONFIGURATION
# =============================================================================

# Maximum time for OR-Tools solver in seconds (default: 60)
# Increase for more complex schedules, decrease for faster (but potentially suboptimal) results
MAX_SOLVE_TIME_SECONDS=60

# Debug mode (default: false)
# Set to true for detailed logging
DEBUG=false

# =============================================================================
# API CONFIGURATION
# =============================================================================

# CORS allowed origins (comma-separated)
# Development: Include localhost
# Production: Include your frontend URL
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# API host and port (development only)
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend environment variables (prefix with VITE_)
# These are bundled into the frontend build

# Backend API URL
# Development: Point to local backend
# Production: Point to deployed backend
VITE_API_BASE_URL=http://localhost:8000

# =============================================================================
# PRODUCTION ONLY (Scalingo)
# =============================================================================

# These are automatically set by Scalingo, don't set manually:
# - DATABASE_URL (from PostgreSQL addon)
# - PORT (from Scalingo)
# - SCALINGO_POSTGRESQL_URL (alias for DATABASE_URL)

# Set these manually in Scalingo:
# scalingo --app kalgarden-scheduler env-set ANTHROPIC_API_KEY="sk-ant-..."
# scalingo --app kalgarden-scheduler env-set MAX_SOLVE_TIME_SECONDS=60
# scalingo --app kalgarden-scheduler env-set ALLOWED_ORIGINS="https://kalgarden-scheduler.osc-fr1.scalingo.io"
